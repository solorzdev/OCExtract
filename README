# FISCALDATA – Extracción de datos (Constancias Fiscales)

Pipeline para extraer datos desde PDFs e imágenes (escaneos) con OCR.  
Diseñado para **procesamiento por lotes**, sin depender de etiquetas fijas (se prioriza detección por **patrones**: RFC, CURP, fechas, CP, etc.).

---

## Requisitos del sistema

- **Python 3.10+**
- **Microsoft SQL Server 2017+**
- **Tesseract OCR** instalado en el sistema  
  - Debe incluir el **paquete de idioma español (`spa`)**.

> La base de datos se llama **`extractinfo`** y la tabla principal es **`constancias`** (ver `db/schema.sql`).

---

## Librerías Python (instalar con `pip`)

**Externas:**
- `pytesseract` – OCR (Tesseract)
- `Pillow` – procesamiento de imágenes
- `pdfplumber` – extracción directa de texto de PDFs
- `PyMuPDF` (`fitz`) – render/parse de PDFs
- `opencv-python` (`cv2`) – preprocesado de imágenes (binarización, etc.)
- `wordsegment` – separar palabras pegadas
- `pyodbc` – conexión a SQL Server

**Opcional recomendado:**
- `python-dotenv` – para leer variables de entorno desde `.env` (si decides usarlo).

---

### Instalación rápida de dependencias

```bash
python -m venv .venv
# Windows:
. .\.venv\Scripts\activate
# Linux/Mac:
source .venv/bin/activate

pip install pytesseract Pillow pdfplumber PyMuPDF opencv-python wordsegment pyodbc python-dotenv
